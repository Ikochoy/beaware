<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../static/css/beaware.css">
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
   <script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
   <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
   <style>
       .white{
           color:white;
       }
   </style>
   <script>
    $(document).ready( function(){
        if(sessionStorage.getItem('dark').localeCompare(true) == 0){
            toggle.checked = "true";
            body.classList.add('dark');
            navmenu.classList.remove('navbar-light');
            navmenu.classList.add('navbar-dark');
            form.classList.remove('bg-light');
            form.classList.add('bg-dark');
            table.classList.add('white');
        }
    });
</script>
</head>
<body>
    <nav id="navmenu" class="navbar navbar-expand-sm justify-content-center navbar-light">
        <ul class="navbar-nav">
            <li class="nav-item wt">
                <a class="nav-link" href="{% url 'website:home' %}">Home</a>
            </li>
            <li class="nav-item wt">
                <a class="nav-link" href="{% url 'website:topnews' %}">Top News</a>
            </li>
            <li class="nav-item wt">
                <a class="nav-link" href="{% url 'website:politics' %}">Politics</a>
            </li>
            <li class="nav-item wt">
                <a class="nav-link" href="{% url 'website:economics' %}">Economics</a>
            </li>
            <li class="nav-item wt">
                <a class="nav-link" href="{% url 'website:technology' %}">Technology</a>
            </li>
            <li class="nav-item wt">
                <a class="nav-link" href="{% url 'website:environment' %}">Environment</a>
            </li>
            <li class="nav-item wt">
                <a class="nav-link" href="{% url 'website:culture' %}">Culture</a>
            </li>
            <li class="nav-item wt">
                <a class="nav-link" href="{% url 'website:discussions' %}">Discussions</a>
            </li>
            <li class="nav-item ml-5">
                   <a class="btn btn-primary p-2 mt-2"  style="color:white;"
                           href="{% url 'website:login_view' %}">Sign In</a>
                        <a class="btn btn-info p-2 mt-2" href="{% url 'website:sign_up' %}"
                        >Sign Up</a>
            </li>
        </ul>
    </nav>
    <div class="container">
        <div class="row justify-content-center align-items-center py-5">
            <div class="col">
                <img src="../../static/world_2.svg" style="width: 80%;"><br>
            </div>
            <div class="col text-center justify-content-center">
                <h2 class="">CREATE A NEW ACCOUNT</h2>
                <form id="loginform" method="post" class="card p-5 mx-auto mt-4 bg-light" style="width: 90%; height: fit-content; border:none;">
                    {% csrf_token %}
                    <table id="form" class="table table-bordered" style="width: 100%; font-size: 12px;">
                        {{ form }}
                    </table>
                    <!-- <div class="form-group">
                        <input type="text" name="register_usrname" placeholder="Username" class="form-control form-control-sm">
                    </div>
                    <div class="form-group">
                        <input type="text"  name="register_password" placeholder="Password" class="form-control form-control-sm">
                    </div>
                    <div class="form-group">
                        <input type="text" name="register_password_confirm" placeholder="Password Confirmation" class="form-control form-control-sm">
                    </div> -->
                    <input type="submit" class="float-right btn btn-primary" value="Sign up" ></input>
                </form>
                <div id="signup_error" style="color:  rgb(160, 0, 0); width: 100%;">
                    {{form.errors}}
                </div>
            </div>
        </div>
    </div>
    <footer id="footer" class="page-footer bg-indigo fixed-bottom padding-box">
        <div class="toggler-container">
            Light &nbsp;
            <div class="toggle">
                <input type="checkbox" id="toggle" />
                <label for="toggle"></label>
            </div>
            &nbsp; Dark &nbsp;
        </div>
    </footer>
    <script>
        const toggle = document.getElementById('toggle');
        const body = document.body;
        const navmenu = document.getElementById('navmenu');
        const form = document.getElementById('loginform');
        const table = document.getElementById('form');
        if (toggle){
            toggle.addEventListener('input', (e) => {
                const isChecked = e.target.checked;
                if(isChecked) {
                    sessionStorage.setItem('dark', true);
                    body.classList.add('dark');
                    navmenu.classList.remove('navbar-light');
                    navmenu.classList.add('navbar-dark');
                    form.classList.remove('bg-light');
                    form.classList.add('bg-dark');
                    table.classList.add('white');

                } else {
                    sessionStorage.setItem('dark', false);
                    body.classList.remove('dark');
                    navmenu.classList.remove('navbar-dark');
                    navmenu.classList.add('navbar-light');
                    form.classList.remove('bg-dark')
                    form.classList.add('bg-light');
                    table.classList.remove('white');
                }
            });
        }else{
            console.log("toggle is null");
        }
    </script>
</body>
